


<section data-ng-controller="RizersController" data-ng-init="findOneAccount()">

<div id="main" class="rize-main-content" role="main">

	<!-- person profile -->
	<article class="rize-profile ">
			<div class="rize-profiles-nav-buttons">
				<div class="rize-profiles-nav-buttons-container">
					<a href="/accounts/{{ account.prevAccount.id }}/{{account.prevAccount.display_name | linkSafeString}}" class="rize-profiles-nav-buttons-previous" id="previousProfile" title="{{account.prevAccount.display_name}}">{{account.prevAccount.display_name}}</a> 
					<a href="/accounts/{{ account.nextAccount.id }}/{{account.nextAccount.display_name | linkSafeString}}" class="rize-profiles-nav-buttons-next" id="nextProfile" title="{{account.nextAccount.display_name}}">{{account.nextAccount.display_name}}</a>
				</div>
			</div>
			<header class="rize-profile-header">
				<style>
					.rize-profiles-banner-box {
						background-image: url({{ account.profile.image }}) !important;
						{{ account.profile.css }}
					}
					/*It'd be cool if we could grab these images from africa rizing but the size suffixes are consistant: -small, -medium, -large and the aspect ratios change. */
				</style>
				<div class="rize-profiles-banner-box" ng-class="account.profile.image=='' ? 'noBannerImage' : 'includeBanner'">
					<div class="rize-profiles-category">
						<a href="/categories/{{ account.profile.categoryData.id }}/{{ account.profile.categoryData.name | linkSafeString }}" class="rize-profiles-category-link rize-category-{{ account.profile.categoryData.id }}">{{ account.profile.categoryData.name }}</a>

						<div class="rize-profiles-category-loop">
							<ul class="rize-profiles-category-loop-list">
								<li ng-repeat="catAccount in account.categoryListing" class="rize-profiles-category-loop-list-item {{ catAccount.selected }}"><a href="/accounts/{{ catAccount.id }}/{{ catAccount.display_name | linkSafeString }}" title="{{ catAccount.display_name }}" class="rize-profiles-category-loop-list-item-link"></a></li>
							</ul>
						</div>
					</div>

					<div class="rize-profiles-share">
						<span class="rize-profiles-share-label"  ng-class="account.profile.image=='' ? 'darkLabel' : 'lightLabel'">SHARE</span>
						<a fb-share class="rize-profiles-share-link facebook" href="https://www.facebook.com/sharer/sharer.php?u={{ shareURLEncoded }}" title="Share on Facebook"></a>
						<a tw-share href="http://twitter.com/share?url={{ shareURLEncoded }}&text={{ twitterShareText }}&via=AfricaRizing" class= "rize-profiles-share-link twitter" title="Share on Twitter"></a>
					</div>

					<div ng-if="account.profile.cutline != ''" class="rize-profiles-banner-cutline">
						{{ account.profile.cutline }}
					</div>
					<div ng-if="account.profile.image != ''" class="rize-profiles-banner-shadow"></div>
				</div>

				<div class="rize-profiles-mugshot" ng-class="account.profile.image=='' ? 'noBannerImage' : 'includeBanner'">
					<img src="{{ account.profile_image }}" class="rize-profiles-mugshot-photo" />
				</div>
				<div class="rize-profiles-person clearfix">
					<h2 class="rize-profiles-person-name">{{ account.display_name }}</h2>
					<h3 class="rize-profiles-person-job_title">{{ account.tagline }}</h3>
				</div>
			</header>

			<div class="rize-profiles-grid clearfix">

				<aside class="rize-profiles-aside-left">

					<div class="rize-profile-social">
						<h3 class="rize-profile-social-label rize-profile-label">Follow {{account.first_name}} online: </h3>
						<ul class="rize-profile-social-list">
							<li ng-if="account.url" class="rize-profile-social-link rize-icon-website"> <a href="{{account.url}}" title="Website"><span>Website</span></a></li>
							<li ng-if="account.twitter.screen_name" class="rize-profile-social-link rize-icon-twitter"> <a href="https://twitter.com/{{account.twitter.screen_name}}" title="Twitter"><span>{{account.twitter.screen_name}}</span></a></li>
							<li ng-if="account.linkedin.url" class="rize-profile-social-link rize-icon-linkedin"> <a href="{{account.linkedin.url}}" title="LinkedIn"><span>LinkedIn</span></a></li>
							<li ng-if="account.facebook.url" class="rize-profile-social-link rize-icon-facebook"> <a href="{{account.facebook.url}}" title="Facebook"><span>Facebook</span></a></li>

							<li ng-if="account.instagram_url" class="rize-profile-social-link rize-icon-instagram"> <a href="{{account.instagram_url}}" title="Instagram"><span>Instagram</span></a></li>
							<li ng-if="account.youtube" class="rize-profile-social-link rize-icon-youtube"> <a href="{{account.youtube}}" title="YouTube"><span>YouTube</span></a></li>
						</ul>
					</div>

				</aside>

				<div class="rize-profiles-article-text">

					<div  ng-if="account.rize_summary" class="rize-profile-description">
						<div ng-bind-html="account.rize_summary"></div>
						<div ng-if="account.profile.byline != ''" class="rize-profile-description-byline">—{{ account.profile.byline }}</div>

						<div ng-if="safeYoutubeUrl != ''" class='embed-container'>
							<iframe src="{{safeYoutubeUrl}}" frameborder='0' allowfullscreen></iframe>
						</div>

						<div class="rize-profile-description-related" ng-if="account.rize_links[0].title!=null">
							<ul class="rize-profile-description-related-list">
								<li ng-repeat="link in account.rize_links" class="rize-profile-description-related-list-item">
									<a href="{{link.url}}" class="rize-profile-description-related-link">{{ link.title }}</a>
								</li>
							</ul>
						</div>
					</div>

				</div> 

				<aside class="rize-profiles-aside-right">
					<h3 class="rize-profile-label">{{account.location}}</h3>

						<style>
						.rize-profiles-map { background-image: url(https://api.mapbox.com/v4/mapbox.emerald/pin-m+FFA500%28{{account.city.longitude}},{{account.city.latitude}}%29/{{account.city.longitude}},{{account.city.latitude}},5/400x250.png?access_token=pk.eyJ1IjoidmlzdWFsam91cm5hbGlzdCIsImEiOiIwODQxY2VlNDRjNTBkNWY1Mjg2OTk3NWIzMmJjMGJhMSJ9.ZjwAspfFYSc4bijF6XS7hw) !important; }
						@media (min-width: 401px) and (max-width: 700px) {
							.rize-profiles-mwap { background-image: url(https://api.mapbox.com/v4/mapbox.emerald/pin-m+FFA500%28{{account.city.longitude}},{{account.city.latitude}}%29/{{account.city.longitude}},{{account.city.latitude}},5/700x200.png?access_token=pk.eyJ1IjoidmlzdWFsam91cm5hbGlzdCIsImEiOiIwODQxY2VlNDRjNTBkNWY1Mjg2OTk3NWIzMmJjMGJhMSJ9.ZjwAspfFYSc4bijF6XS7hw) !important; height: 200px; }
						}
						@media (min-width: 701px){
							.rize-profiles-map { background-image: url(https://api.mapbox.com/v4/mapbox.emerald/pin-m+FFA500%28{{account.city.longitude}},{{account.city.latitude}}%29/{{account.city.longitude}},{{account.city.latitude}},4/200x225.png?access_token=pk.eyJ1IjoidmlzdWFsam91cm5hbGlzdCIsImEiOiIwODQxY2VlNDRjNTBkNWY1Mjg2OTk3NWIzMmJjMGJhMSJ9.ZjwAspfFYSc4bijF6XS7hw) !important; height: 200px;  
						}
					</style>

					<div ng-if="showMap" class="rize-profiles-map" title="Mapbox Map of {{account.location}}}"></div>
					<span ng-if="showMap">
					© <a href='https://www.mapbox.com/map-feedback/' class="mapbox-link">Mapbox</a> © <a href='http://www.openstreetmap.org/copyright' class="mapbox-link">OpenStreetMap contributors</a>
					</span>
				</aside>

			</div><!-- .rize-grid -->
			<footer ng-if="account.profile.quotation != ''" class="rize-profiles-footer">
				<h3 class="rize-profiles-quotation-text">“{{ account.profile.quotation }}”</h3>
				<p class="rize-profiles-quotation-name">
				<a href="{{ account.profile.quotationlink }}">{{ account.display_name }}</a>
				</p>
			</footer>

	</article><!-- profile -->

</div><!-- #main -->

<script type="text/javascript">
	document.onkeydown = checkKey;

	function checkKey(e) {
		e = e || window.event;

		if (e.keyCode == '37') {
			// right arrow
			var previous = document.getElementById("previousProfile");
			previous.click();
		}
		else if (e.keyCode == '39') {
			// right arrow
			var next = document.getElementById("nextProfile");
			next.click();
		}
	}
</script>

</section>
